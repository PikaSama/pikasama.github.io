{"title":"ArchLinux折腾小记 | 安装篇","date":"2020-03-14T00:09:44.000Z","date_formatted":{"ll":"2020年3月14日","L":"2020/03/14","MM-DD":"03-14"},"thumbnail":"//cdn.jsdelivr.net/gh/PikaSama/shelter-images@1.1.8/images/arch-install.webp","link":"posts/archnotes-installation","comments":true,"tags":["ArchLinux"],"categories":["Linux"],"updated":"2020-12-06T09:11:42.306Z","content":"<h1 id=\"前言\">前言<a title=\"#前言\" href=\"#前言\"></a></h1>\n<p>这篇文章算是鸽了很久了，从还没建博客时就写过一次了，只不过是写在笔记本上的2333。本文的安装教程适用于BIOS/MBR引导(因为我的电脑是BIOS引导)，安装步骤参考官方<a href=\"https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)\" target=\"_blank\">Wiki</a>和B站up主<a href=\"https://space.bilibili.com/13081489\" target=\"_blank\">TheCW</a>的<a href=\"https://www.bilibili.com/video/av81146687\" target=\"_blank\">视频</a>进行，UEFI引导的教程暂时不做(鸽了鸽了)</p>\n<a id=\"more\"></a>\n<h1 id=\"下载镜像\">下载镜像<a title=\"#下载镜像\" href=\"#下载镜像\"></a></h1>\n<p>进入ArchLinux的<a href=\"https://www.archlinux.org/download\" target=\"_blank\">官方下载页面</a>，找到WorldWide下的China部分，随便选一个镜像站下载系统镜像，这里以<a href=\"http://mirrors.ustc.edu.cn/archlinux/iso/2020.03.01/\" target=\"_blank\">中科大</a>(2020年3月版)为例</p>\n<h1 id=\"验证镜像\">验证镜像<a title=\"#验证镜像\" href=\"#验证镜像\"></a></h1>\n<p>下载完之后我们需要验证镜像的完整性(不过我一般不会这样做的hhh，只要你能保证下载过程中网络没出现什么问题就行)</p>\n<h2 id=\"windows\">Windows<a title=\"#windows\" href=\"#windows\"></a></h2>\n<p>在镜像站里下载md5sums.txt和sha1sums.txt，然后和镜像对比是否一致就行了(虽然官网也有公示校检码)，至于用啥软件就自己找吧，我这里用的是好压自带的工具</p>\n<h2 id=\"linux\">Linux<a title=\"#linux\" href=\"#linux\"></a></h2>\n<p>在镜像站里下载“镜像名.iso.sig”的文件，然后执行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ gpg --keyserver-options auto-key-retrieve --verify 镜像名.iso.sig</span><br></pre></td></tr></table></figure>\n<h1 id=\"刻录镜像\">刻录镜像<a title=\"#刻录镜像\" href=\"#刻录镜像\"></a></h1>\n<p>我们需要一个u盘来刻录我们的镜像</p>\n<h2 id=\"windows-1\">Windows<a title=\"#windows-1\" href=\"#windows-1\"></a></h2>\n<p>这里用etcher进行刻录，它可以选择镜像后就可以直接刻录，当然你用rufus或其他的也可以</p>\n<h2 id=\"linux-1\">Linux<a title=\"#linux-1\" href=\"#linux-1\"></a></h2>\n<p>先查看自己u盘的盘符</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo fdisk -l</span><br></pre></td></tr></table></figure>\n<p>然后刻录镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo dd <span class=\"keyword\">if</span>=你的镜像路径 of=你的u盘盘符 bs=4M</span><br></pre></td></tr></table></figure>\n<p>然后耐心等待…</p>\n<h1 id=\"启动到live环境\">启动到Live环境<a title=\"#启动到live环境\" href=\"#启动到live环境\"></a></h1>\n<ol>\n<li>关机，插上u盘，开机狂按F11(根据你的主板品牌来规定，我的是凄惨红，所以按F11)，在选择界面中用小键盘上下键移动，选择到你的u盘，然后回车</li>\n<li>进入到Arch的引导界面后，回车默认的选项就行了，如果回车后黑屏的，请按Tab键编辑启动参数，加上<code>nomodeset</code>参数即可</li>\n</ol>\n<h1 id=\"安装系统\">安装系统<a title=\"#安装系统\" href=\"#安装系统\"></a></h1>\n<h2 id=\"设置显示字体(可选)\">设置显示字体(可选)<a title=\"#设置显示字体(可选)\" href=\"#设置显示字体(可选)\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setfont /usr/share/kbd/consolefonts/LatGrkCyr-12x22.psfu.gz</span><br></pre></td></tr></table></figure>\n<p>字体由B站up主<a href=\"https://space.bilibili.com/13081489\" target=\"_blank\">TheCW</a>的<a href=\"https://www.bilibili.com/video/av81146687\" target=\"_blank\">视频</a>推荐</p>\n<h2 id=\"连接网络\">连接网络<a title=\"#连接网络\" href=\"#连接网络\"></a></h2>\n<p>连接方法也同样参考于B站up主<a href=\"https://space.bilibili.com/13081489\" target=\"_blank\">TheCW</a>的<a href=\"https://www.bilibili.com/video/av81146687\" target=\"_blank\">视频</a></p>\n<p>使用ip-link查看当前互联网状态</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip link</span><br></pre></td></tr></table></figure>\n<h3 id=\"有线连接\">有线连接<a title=\"#有线连接\" href=\"#有线连接\"></a></h3>\n<p>使用动态ip地址分配工具dhcpcd连接网络(后台运行)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dhcpcd &amp;</span><br></pre></td></tr></table></figure>\n<h3 id=\"无线连接\">无线连接<a title=\"#无线连接\" href=\"#无线连接\"></a></h3>\n<p>启用无线网络</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip link <span class=\"built_in\">set</span> wlan0 up</span><br></pre></td></tr></table></figure>\n<p>扫描附近的WIFI</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iwlist wlan0 scan | grep ESSID</span><br></pre></td></tr></table></figure>\n<p>生成连接无线网络的配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wpa_passphrase WIFI名 密码 &gt; internet.conf</span><br></pre></td></tr></table></figure>\n<p>连接无线网络(后台运行)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wpa_supplicant -c internet.conf -i wlan0 &amp;</span><br></pre></td></tr></table></figure>\n<p>使用动态ip地址分配工具dhcpcd连接网络(后台运行)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dhcpcd &amp;</span><br></pre></td></tr></table></figure>\n<h2 id=\"更新系统时间\">更新系统时间<a title=\"#更新系统时间\" href=\"#更新系统时间\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">timedatectl set-ntp <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"分区\">分区<a title=\"#分区\" href=\"#分区\"></a></h2>\n<h3 id=\"要求\">要求<a title=\"#要求\" href=\"#要求\"></a></h3>\n<h4 id=\"bios/mbr\">BIOS/MBR<a title=\"#bios/mbr\" href=\"#bios/mbr\"></a></h4>\n<p>请至少创建两个分区，一个用来作为作为Linux系统的根目录，一个用来作为Swap分区，当然如果你觉得内存够用了可以不用创建Swap分区</p>\n<h4 id=\"uefi\">UEFI<a title=\"#uefi\" href=\"#uefi\"></a></h4>\n<p>咕咕咕…</p>\n<h3 id=\"分区工具\">分区工具<a title=\"#分区工具\" href=\"#分区工具\"></a></h3>\n<h4 id=\"cfdisk（推荐）\">cfdisk（推荐）<a title=\"#cfdisk（推荐）\" href=\"#cfdisk（推荐）\"></a></h4>\n<p>cfdisk拥有GUI界面，操作起来很方便，适合小白</p>\n<p>执行<code>cfdisk</code>命令后你可以看到类似界面，使用方向键进行操作</p>\n<p>主要命令：</p>\n<ul>\n<li>Free Space：空闲空间</li>\n<li>New：新建一个分区</li>\n<li>Resize：调整分区大小</li>\n<li>Delete：删除分区</li>\n<li>Type：分区类型</li>\n<li>Write：向硬盘写入更改</li>\n<li>Quit：退出</li>\n</ul>\n<p>你的所有操作都完成后，按下Write即可生效，然后按下Quit即可退出<br>\n<img src=\"http://exp-picture.cdn.bcebos.com/739bc049610f8b561540a5dc9ce951e10ff8d398.jpg\" alt=\"avatar\"></p>\n<p><img src=\"http://exp-picture.cdn.bcebos.com/777f3fc2bbd6e1d031ad11d50d254193cfe8af99.jpg\" alt=\"avatar\"><br>\n<a href=\"https://jingyan.baidu.com/article/ce09321bb922da2bff858fdd.html\" target=\"_blank\">图片来源</a></p>\n<h4 id=\"fdisk\">fdisk<a title=\"#fdisk\" href=\"#fdisk\"></a></h4>\n<p>查看当前分区</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk -l</span><br></pre></td></tr></table></figure>\n<p>进入编辑模式</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk /dev/sda(你的硬盘位置，以/dev/sda为例)</span><br></pre></td></tr></table></figure>\n<p>这时你输入m可以获取fdisk帮助</p>\n<p>主要命令：</p>\n<ul>\n<li>d：删除一个分区</li>\n<li>F：查看空闲空间</li>\n<li>l：列出已知的分区类型</li>\n<li>n：创建一个分区</li>\n<li>p：查看分区列表</li>\n<li>t：更改分区类型</li>\n<li>w：向硬盘写入更改</li>\n<li>q：不保存更改并退出</li>\n<li>i：查看分区信息</li>\n<li>g：创建一个GPT分区表(会清空当前硬盘数据)</li>\n<li>o：创建一个DOS分区表(会清空当前硬盘数据)</li>\n</ul>\n<p>输入<code>n</code>创建一个新的分区</p>\n<ul>\n<li>Partition number：分区编号，回车默认即可</li>\n<li>First sector：扇区起始位置，回车默认即可</li>\n<li>Last sector：扇区结束位置，如果你想创建一个20G的分区，输入<code>+20G</code>后回车即可</li>\n<li>Do you want to remove the signature ?：是否移除分区的签名，说明你之前创建过这个分区，我们选Yes，改为崭新的分区</li>\n</ul>\n<p>输入<code>p</code>查看你更改后的分区列表</p>\n<p>确认无误后，输入<code>w</code>写入更改</p>\n<h3 id=\"格式化\">格式化<a title=\"#格式化\" href=\"#格式化\"></a></h3>\n<h4 id=\"bios/mbr-1\">BIOS/MBR<a title=\"#bios/mbr-1\" href=\"#bios/mbr-1\"></a></h4>\n<p>格式化主分区(你打算挂载到根目录的分区)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkfs.ext4 /dev/sda6(假设这是你的主分区)</span><br></pre></td></tr></table></figure>\n<p>如果你创建了多个分区，那么这个分区也要格式化(例如你创建了一个分区要挂载到/home上)</p>\n<p>设置swap分区</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkswap /dev/sda7(假设这是你的swap分区)</span><br></pre></td></tr></table></figure>\n<p>启用swap分区</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swapon /dev/sda7</span><br></pre></td></tr></table></figure>\n<h4 id=\"uefi-1\">UEFI<a title=\"#uefi-1\" href=\"#uefi-1\"></a></h4>\n<p>咕咕咕…</p>\n<h3 id=\"挂载\">挂载<a title=\"#挂载\" href=\"#挂载\"></a></h3>\n<h4 id=\"bios/mbr-2\">BIOS/MBR<a title=\"#bios/mbr-2\" href=\"#bios/mbr-2\"></a></h4>\n<p>挂载主分区</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/sda6 /mnt</span><br></pre></td></tr></table></figure>\n<p>如果你有多个分区，请先创建它的目录再挂载(例如你创建了一个分区想要挂载在/home上)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /mnt/home</span><br><span class=\"line\">mount /dev/sda8(假设为你要挂载到/home分区) /mnt/home</span><br></pre></td></tr></table></figure>\n<h4 id=\"uefi-2\">UEFI<a title=\"#uefi-2\" href=\"#uefi-2\"></a></h4>\n<p>咕咕咕…</p>\n<h2 id=\"更换软件源\">更换软件源<a title=\"#更换软件源\" href=\"#更换软件源\"></a></h2>\n<p>以清华源为例(“+”为添加/输入内容，“-”为删除内容)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/pacman.d/mirrorlist</span><br><span class=\"line\">+ Server=https://mirrors.tuna.tsinghua.edu.cn/archlinux/repo/os/<span class=\"variable\">$arch</span></span><br></pre></td></tr></table></figure>\n<p>刷新软件源</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -Sy</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装基本组件\">安装基本组件<a title=\"#安装基本组件\" href=\"#安装基本组件\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacstrap /mnt base base-devel linux linux-firmware nano dhcpcd wpa_supplicant</span><br></pre></td></tr></table></figure>\n<ul>\n<li>base：ArchLinux最小化安装包</li>\n<li>base-devel：base附加的软件包</li>\n<li>linux：Linux内核及模块</li>\n<li>linux-firmware：Linux的固件文件</li>\n<li>nano：文本编辑器</li>\n<li>dhcpcd：动态ip地址分配工具</li>\n<li>wpa_supplicant：支持WPA无线协议和加密认证的连接工具</li>\n</ul>\n<h2 id=\"生成fstab文件\">生成fstab文件<a title=\"#生成fstab文件\" href=\"#生成fstab文件\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>\n<h2 id=\"进入刚刚安装的新系统\">进入刚刚安装的新系统<a title=\"#进入刚刚安装的新系统\" href=\"#进入刚刚安装的新系统\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arch-chroot /mnt</span><br></pre></td></tr></table></figure>\n<h2 id=\"时间设置\">时间设置<a title=\"#时间设置\" href=\"#时间设置\"></a></h2>\n<h3 id=\"设置时区(以上海为例)\">设置时区(以上海为例)<a title=\"#设置时区(以上海为例)\" href=\"#设置时区(以上海为例)\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>\n<h3 id=\"同步系统时间\">同步系统时间<a title=\"#同步系统时间\" href=\"#同步系统时间\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hwclock --systohc</span><br></pre></td></tr></table></figure>\n<h2 id=\"语言设置\">语言设置<a title=\"#语言设置\" href=\"#语言设置\"></a></h2>\n<h3 id=\"编辑语言生成的配置文件\">编辑语言生成的配置文件<a title=\"#编辑语言生成的配置文件\" href=\"#编辑语言生成的配置文件\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/locale.gen</span><br><span class=\"line\">- <span class=\"comment\">#en_US.UTF8 UTF-8</span></span><br><span class=\"line\">+ en_US.UTF-8 UTF-8</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成语言\">生成语言<a title=\"#生成语言\" href=\"#生成语言\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">locale-gen</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置语言\">设置语言<a title=\"#设置语言\" href=\"#设置语言\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/locale.conf</span><br><span class=\"line\">+ LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置主机名\">设置主机名<a title=\"#设置主机名\" href=\"#设置主机名\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/hostname</span><br><span class=\"line\">+ arch(以arch为例)</span><br></pre></td></tr></table></figure>\n<h2 id=\"编辑hosts文件\">编辑hosts文件<a title=\"#编辑hosts文件\" href=\"#编辑hosts文件\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/hosts</span><br><span class=\"line\">+ 127.0.0.1 localhost</span><br><span class=\"line\">+ ::1 localhost</span><br><span class=\"line\">+ 127.0.0.1 arch(你的主机名).localdomain arch(你的主机名)</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置root密码\">设置root密码<a title=\"#设置root密码\" href=\"#设置root密码\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passwd</span><br><span class=\"line\">+ root(你的密码)</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装引导组件\">安装引导组件<a title=\"#安装引导组件\" href=\"#安装引导组件\"></a></h2>\n<h3 id=\"安装微码(cpu升级驱动用)\">安装微码(cpu升级驱动用)<a title=\"#安装微码(cpu升级驱动用)\" href=\"#安装微码(cpu升级驱动用)\"></a></h3>\n<h4 id=\"intel\">Intel<a title=\"#intel\" href=\"#intel\"></a></h4>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S intel-ucode</span><br></pre></td></tr></table></figure>\n<h4 id=\"amd\">AMD<a title=\"#amd\" href=\"#amd\"></a></h4>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S amd-ucode</span><br></pre></td></tr></table></figure>\n<h3 id=\"安装grub引导器和其他组件\">安装grub引导器和其他组件<a title=\"#安装grub引导器和其他组件\" href=\"#安装grub引导器和其他组件\"></a></h3>\n<h4 id=\"bios/mbr-3\">BIOS/MBR<a title=\"#bios/mbr-3\" href=\"#bios/mbr-3\"></a></h4>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pacman -S grub os-prober ntfs-3g</span><br></pre></td></tr></table></figure>\n<ul>\n<li>grub：引导器，用于引导多个系统</li>\n<li>os-prober：用于探测其他系统</li>\n<li>ntfs-3g：用于读取ntfs文件系统的分区</li>\n</ul>\n<p>安装grub引导器</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grub-install --target=i386-pc /dev/sda(注意这是你的硬盘，不是分区)</span><br></pre></td></tr></table></figure>\n<p>生成grub配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>\n<h4 id=\"uefi-3\">UEFI<a title=\"#uefi-3\" href=\"#uefi-3\"></a></h4>\n<p>咕咕咕…</p>\n<h2 id=\"收尾工作\">收尾工作<a title=\"#收尾工作\" href=\"#收尾工作\"></a></h2>\n<h3 id=\"退出chroot环境\">退出chroot环境<a title=\"#退出chroot环境\" href=\"#退出chroot环境\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">exit</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"杀死网络服务\">杀死网络服务<a title=\"#杀死网络服务\" href=\"#杀死网络服务\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">killall wpa_supplicant dhcpcd</span><br></pre></td></tr></table></figure>\n<h3 id=\"卸载被挂载的分区\">卸载被挂载的分区<a title=\"#卸载被挂载的分区\" href=\"#卸载被挂载的分区\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount -R /mnt</span><br></pre></td></tr></table></figure>\n<h3 id=\"重启\">重启<a title=\"#重启\" href=\"#重启\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n<p>等你的显示屏显示“无信号”的时候，拔掉u盘，然后享受你的ArchLinux吧~</p>\n<h1 id=\"后记\">后记<a title=\"#后记\" href=\"#后记\"></a></h1>\n<p>呼~划水了两个多月了，今天终于写完了</p>\n<p>你如果还看不懂的话，那你还是去看视频吧2333</p>\n<p>如有问题还请指出，我也还是个小白</p>\n<p>过一段时间还会更新另一篇，毕竟你看到标题也知道我不会就只写这一篇的hhhh</p>\n<p>啊，自己给自己挖了个大坑，真好</p>\n<h2 id=\"感谢\">感谢<a title=\"#感谢\" href=\"#感谢\"></a></h2>\n<p>视频：</p>\n<ul>\n<li><a href=\"http://www.bilibili.com/BV11J411a7Tp\" target=\"_blank\">BV11J411a7Tp</a></li>\n</ul>\n<p>文章更新日期：2020.07.16 00:12</p>\n","prev":{"title":"我不是盘神！","link":"posts/pandownload"},"next":{"title":"Hello World","link":"posts/hello-world"},"plink":"https://shelter.beaa.cn/posts/archnotes-installation/","toc":[{"id":"前言","title":"前言","index":"1"},{"id":"下载镜像","title":"下载镜像","index":"2"},{"id":"验证镜像","title":"验证镜像","index":"3","children":[{"id":"windows","title":"Windows","index":"3.1"},{"id":"linux","title":"Linux","index":"3.2"}]},{"id":"刻录镜像","title":"刻录镜像","index":"4","children":[{"id":"windows-1","title":"Windows","index":"4.1"},{"id":"linux-1","title":"Linux","index":"4.2"}]},{"id":"启动到live环境","title":"启动到Live环境","index":"5"},{"id":"安装系统","title":"安装系统","index":"6","children":[{"id":"设置显示字体(可选)","title":"设置显示字体(可选)","index":"6.1"},{"id":"连接网络","title":"连接网络","index":"6.2","children":[{"id":"有线连接","title":"有线连接","index":"6.2.1"},{"id":"无线连接","title":"无线连接","index":"6.2.2"}]},{"id":"更新系统时间","title":"更新系统时间","index":"6.3"},{"id":"分区","title":"分区","index":"6.4","children":[{"id":"要求","title":"要求","index":"6.4.1","children":[{"id":"bios/mbr","title":"BIOS&#x2F;MBR","index":"6.4.1.1"},{"id":"uefi","title":"UEFI","index":"6.4.1.2"}]},{"id":"分区工具","title":"分区工具","index":"6.4.2","children":[{"id":"cfdisk（推荐）","title":"cfdisk（推荐）","index":"6.4.2.1"},{"id":"fdisk","title":"fdisk","index":"6.4.2.2"}]},{"id":"格式化","title":"格式化","index":"6.4.3","children":[{"id":"bios/mbr-1","title":"BIOS&#x2F;MBR","index":"6.4.3.1"},{"id":"uefi-1","title":"UEFI","index":"6.4.3.2"}]},{"id":"挂载","title":"挂载","index":"6.4.4","children":[{"id":"bios/mbr-2","title":"BIOS&#x2F;MBR","index":"6.4.4.1"},{"id":"uefi-2","title":"UEFI","index":"6.4.4.2"}]}]},{"id":"更换软件源","title":"更换软件源","index":"6.5"},{"id":"安装基本组件","title":"安装基本组件","index":"6.6"},{"id":"生成fstab文件","title":"生成fstab文件","index":"6.7"},{"id":"进入刚刚安装的新系统","title":"进入刚刚安装的新系统","index":"6.8"},{"id":"时间设置","title":"时间设置","index":"6.9","children":[{"id":"设置时区(以上海为例)","title":"设置时区(以上海为例)","index":"6.9.1"},{"id":"同步系统时间","title":"同步系统时间","index":"6.9.2"}]},{"id":"语言设置","title":"语言设置","index":"6.10","children":[{"id":"编辑语言生成的配置文件","title":"编辑语言生成的配置文件","index":"6.10.1"},{"id":"生成语言","title":"生成语言","index":"6.10.2"},{"id":"设置语言","title":"设置语言","index":"6.10.3"}]},{"id":"设置主机名","title":"设置主机名","index":"6.11"},{"id":"编辑hosts文件","title":"编辑hosts文件","index":"6.12"},{"id":"设置root密码","title":"设置root密码","index":"6.13"},{"id":"安装引导组件","title":"安装引导组件","index":"6.14","children":[{"id":"安装微码(cpu升级驱动用)","title":"安装微码(cpu升级驱动用)","index":"6.14.1","children":[{"id":"intel","title":"Intel","index":"6.14.1.1"},{"id":"amd","title":"AMD","index":"6.14.1.2"}]},{"id":"安装grub引导器和其他组件","title":"安装grub引导器和其他组件","index":"6.14.2","children":[{"id":"bios/mbr-3","title":"BIOS&#x2F;MBR","index":"6.14.2.1"},{"id":"uefi-3","title":"UEFI","index":"6.14.2.2"}]}]},{"id":"收尾工作","title":"收尾工作","index":"6.15","children":[{"id":"退出chroot环境","title":"退出chroot环境","index":"6.15.1"},{"id":"杀死网络服务","title":"杀死网络服务","index":"6.15.2"},{"id":"卸载被挂载的分区","title":"卸载被挂载的分区","index":"6.15.3"},{"id":"重启","title":"重启","index":"6.15.4"}]}]},{"id":"后记","title":"后记","index":"7","children":[{"id":"感谢","title":"感谢","index":"7.1"}]}],"reward":true,"copyright":{"author":"Zorin","link":"<a href=\"https://shelter.beaa.cn/posts/archnotes-installation/\" title=\"ArchLinux折腾小记 | 安装篇\">https://shelter.beaa.cn/posts/archnotes-installation/</a>","license":"<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"nofollow\" target=\"_blank\">署名-非商业性-共享方式一致</a>(CC BY-NC-SA 4.0)<br />博客除特别声明外，均采用此协议，转载请注明来源！"}}